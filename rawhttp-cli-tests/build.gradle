plugins {
    id "org.jetbrains.kotlin.jvm"
    id 'java'
}

description = 'RawHTTP CLI Tests'
version '2.0-SNAPSHOT'

sourceCompatibility = 1.8
targetCompatibility = 1.8

compileKotlin {
    kotlinOptions.jvmTarget = '1.8'
}

test {
    systemProperty 'RAWHTTP_CLI_JAR', project(':rawhttp-cli').ext.runnableJar
    systemProperty 'JAVA_HOME', System.getProperty('java.home')
    dependsOn ':rawhttp-cli:fatJar'
}

dependencies {
    testCompile "org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlinVersion"
    testCompile 'junit:junit:4.12'
    testCompile project(':rawhttp-cli')
}
